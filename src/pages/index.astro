---
import Layout from '../layouts/Layout.astro';
import Hero from '../components/Hero.astro';
import TechStack from '../components/TechStack.astro';
import Experience from '../components/Experience.astro';
import Projects from '../components/Projects.astro';
import Contact from '../components/Contact.astro';
import Footer from '../components/Footer.astro';
import '../styles/global.css';

// =============================================
// üëá PERSONALIZA AQU√ç TUS DATOS
// =============================================

const profile = {
  name: 'Luna Martello',
  role: 'Full Stack Developer',
  bio: 'Desarrolladora Full Stack apasionada por crear experiencias digitales elegantes y funcionales. Especializada en el ecosistema Astro.',
  avatar: '/perfil.jpg',
  email: 'lunafreelancerr@gmail.com',
  social: {
    github: 'https://github.com/tuusuario',
    linkedin: 'https://linkedin.com/in/tuusuario',
    whatsapp: '541136081560',
    email: 'lunafreelancerr@gmail.com',
  },
};

const technologies = [
  'React', 'Astro', 'Tailwind', 'TypeScript',
  'Node.js', 'MongoDB', 'Git', 'MySQL',
];

const experiences = [
  {
    title: 'Senior Full Stack Developer',
    company: 'Tech Corp',
    period: '2022 ‚Äî Presente',
    description: 'Lider√© el desarrollo de aplicaciones web escalables utilizando React, Node.js y AWS. Reduje el tiempo de carga en un 40% y mejor√© la experiencia del usuario.',
  },
  {
    title: 'Frontend Developer',
    company: 'Startup Inc',
    period: '2020 ‚Äî 2022',
    description: 'Constru√≠ interfaces de usuario responsivas y optimic√© el rendimiento para sitios de e-commerce con alto tr√°fico. Implement√© un design system desde cero.',
  },
  {
    title: 'Junior Developer',
    company: 'Agency XYZ',
    period: '2018 ‚Äî 2020',
    description: 'Desarroll√© y mantuve sitios web para clientes de distintas industrias. Introduje mejores pr√°cticas de accesibilidad y SEO t√©cnico.',
  },
];

const projects = [
  {
    title: 'Astro vCard',
    description: 'Un template de portfolio minimalista, responsivo y con buen SEO, construido con Astro y Tailwind CSS.',
    image: '/proyecto.jpg',
    tags: ['Astro', 'Tailwind', 'TypeScript'],
    url: 'https://v-card-template.vercel.app',
    github: 'https://github.com/tuusuario/vcard',
  },
  {
    title: 'E-commerce Dashboard',
    description: 'Panel de control completo para gestionar tiendas online, con anal√≠ticas en tiempo real y gesti√≥n de inventario.',
    image: '/proyecto1.jpg',
    tags: ['React', 'Next.js', 'Supabase'],
    url: '#',
    github: 'https://github.com/tuusuario/dashboard',
  },
  {
    title: 'API de Pagos',
    description: 'Microservicio robusto para procesar pagos con integraci√≥n a Stripe, manejo de webhooks y reconciliaci√≥n autom√°tica.',
    image: '',
    tags: ['Node.js', 'TypeScript', 'PostgreSQL'],
    github: 'https://github.com/tuusuario/payments-api',
  },
  {
    title: 'CLI DevTools',
    description: 'Herramienta de l√≠nea de comandos para automatizar flujos de trabajo de desarrollo, generaci√≥n de boilerplate y deploy.',
    image: '',
    tags: ['Python', 'Click', 'Docker'],
    github: 'https://github.com/tuusuario/devtools',
  },
];
---

<Layout title={`${profile.name} ‚Äî ${profile.role}`} description={profile.bio}>
  <div id="top">
    <nav class="fixed top-0 left-0 right-0 z-50 px-6 py-4 flex items-center justify-between"
      style="backdrop-filter: blur(12px); background: rgba(255,255,255,0.85); border-bottom: 1px solid rgba(255,61,143,0.15);">
      <span class="font-display font-bold text-lg tracking-tight" style="color: var(--ink);">{profile.name}</span>

      <!-- Desktop links -->
      <div class="hidden sm:flex items-center gap-6">
        {['Stack', 'Experiencia', 'Proyectos', 'Contacto'].map(item => (
          <a
            href={`#${item.toLowerCase()}`}
            class="font-mono text-xs tracking-widest transition-colors hover-pink"
            style="color: rgba(13,13,13,0.55);"
          >
            {item.toUpperCase()}
          </a>
        ))}
      </div>

      <!-- Hamburger button (mobile) -->
      <button id="menu-btn" class="sm:hidden flex flex-col gap-1.5 p-1" aria-label="Men√∫">
        <span class="hamburger-line line-1"></span>
        <span class="hamburger-line line-2"></span>
        <span class="hamburger-line line-3"></span>
      </button>
    </nav>

    <!-- Mobile menu -->
    <div id="mobile-menu"
      class="fixed top-0 left-0 right-0 bottom-0 z-40 flex flex-col items-center justify-center gap-10 hidden"
      style="background: rgba(255,255,255,0.97); backdrop-filter: blur(16px);">
      {['Stack', 'Experiencia', 'Proyectos', 'Contacto'].map((item, i) => (
        <a
          href={`#${item.toLowerCase()}`}
          class="mobile-link font-display font-bold text-4xl tracking-tight"
          style={`color: var(--ink); --delay: ${i * 0.08}s;`}
        >
          {item}
        </a>
      ))}
    </div>

    <script>
      const btn = document.getElementById('menu-btn');
      const menu = document.getElementById('mobile-menu');
      const links = document.querySelectorAll('.mobile-link');

      btn?.addEventListener('click', () => {
        const isOpen = !menu?.classList.contains('hidden');
        if (isOpen) {
          // Cerrar: animar hacia afuera
          links.forEach((link, i) => {
            (link as HTMLElement).style.animation = `menuOut 0.3s ease forwards ${i * 0.06}s`;
          });
          setTimeout(() => menu?.classList.add('hidden'), 400);
          btn?.classList.remove('open');
        } else {
          menu?.classList.remove('hidden');
          btn?.classList.add('open');
          // Abrir: animar hacia adentro con delay escalonado
          links.forEach((link, i) => {
            (link as HTMLElement).style.animation = `menuIn 0.5s cubic-bezier(0.22,1,0.36,1) forwards ${i * 0.08}s`;
          });
        }
      });

      document.querySelectorAll('.mobile-link').forEach(link => {
        link.addEventListener('click', () => {
          menu?.classList.add('hidden');
          btn?.classList.remove('open');
        });
      });
    </script>

    <style>
      .hamburger-line {
        display: block;
        width: 22px;
        height: 2px;
        background: var(--ink);
        transition: transform 0.3s ease, opacity 0.3s ease;
        transform-origin: center;
      }
      #menu-btn.open .line-1 {
        transform: translateY(8px) rotate(45deg);
      }
      #menu-btn.open .line-2 {
        opacity: 0;
        transform: scaleX(0);
      }
      #menu-btn.open .line-3 {
        transform: translateY(-8px) rotate(-45deg);
      }

      .mobile-link {
        opacity: 0;
        transform: translateY(20px);
        transition: color 0.2s ease;
        position: relative;
      }
      .mobile-link::after {
        content: '';
        position: absolute;
        bottom: -4px;
        left: 0;
        width: 0;
        height: 2px;
        background: #FF3D8F;
        transition: width 0.3s ease;
      }
      .mobile-link:hover::after {
        width: 100%;
      }
      .mobile-link:hover {
        color: #FF3D8F !important;
      }

      @keyframes menuIn {
        from {
          opacity: 0;
          transform: translateY(30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      @keyframes menuOut {
        from {
          opacity: 1;
          transform: translateY(0);
        }
        to {
          opacity: 0;
          transform: translateY(-20px);
        }
      }

      .hover-pink:hover {
        color: #FF3D8F !important;
      }
    </style>

    <main>
      <div id="inicio">
        <Hero
          name={profile.name}
          role={profile.role}
          bio={profile.bio}
          avatar={profile.avatar}
          social={profile.social}
        />
      </div>

      <div id="stack">
        <TechStack technologies={technologies} />
      </div>

      <div id="experiencia">
        <Experience experiences={experiences} />
      </div>

      <div id="proyectos">
        <Projects projects={projects} />
      </div>

      <Contact email={profile.email} />
    </main>

    <Footer name={profile.name} />
  </div>
</Layout>